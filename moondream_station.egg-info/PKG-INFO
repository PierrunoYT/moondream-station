Metadata-Version: 2.4
Name: moondream-station
Version: 0.1.0
Summary: A CLI tool for hosting and managing ML models
Project-URL: Homepage, https://github.com/m87/moondream-station
Project-URL: Repository, https://github.com/m87/moondream-station
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: requests>=2.25
Requires-Dist: rich>=13.0
Requires-Dist: posthog>=3.0.0
Dynamic: license-file

# moondream-station
<img width="510" height="282" alt="mds_wip_sc" src="https://github.com/user-attachments/assets/a1fe01fc-29ea-4050-b45b-8a3df2575c7b" />

## Installation

```bash
pip install -e .
```

## Usage

```bash
moondream-station
```

## Commands

### Model Management
- `models` - List available models
- `models switch <model>` - Switch to a model

### Service Control
- `start [port]` - Start REST server (default: port 2020)
- `stop` - Stop server
- `restart` - Restart server

### Inference
<img width="522" height="376" alt="Screenshot 2025-09-12 at 8 59 09 PM" src="https://github.com/user-attachments/assets/855d10b6-fb95-4731-9fbd-ce7cc46e78a3" />

- `infer <function> [args]` - Run single inference
- `inference` - Enter interactive inference mode

### Settings
<img width="516" height="362" alt="Screenshot 2025-09-12 at 9 01 57 PM" src="https://github.com/user-attachments/assets/696189b2-b8cc-4785-88a2-cb11f805668f" />

- `settings` - Show configuration
- `settings set <key> <value>` - Set setting value

### Utility
<img width="503" height="225" alt="Screenshot 2025-09-12 at 9 01 08 PM" src="https://github.com/user-attachments/assets/486780e1-08c6-46d4-bebb-77aadd1ca73b" />

- `session` - Show session stats
- `help` - Show available commands
- `history` - Show command history
- `clear` - Clear screen
- `exit` - Quit application

## REST API

Once a model is running, HTTP requests are routed to backend functions:

```bash
# Start server
start

# Make requests
curl -X POST http://localhost:2020/v1/caption \
  -H "Content-Type: application/json" \
  -d '{"image_url": "data:image/jpeg;base64,...", "length": "short"}'

curl -X POST http://localhost:2020/v1/query \
  -H "Content-Type: application/json" \
  -d '{"image_url": "data:image/jpeg;base64,...", "question": "What is this?"}'
```

Available endpoints depend on the loaded model backend.

## Configuration

Settings are stored in `~/.moondream-station/config.json`. Key settings:

- `inference_workers` - Number of concurrent workers (default: 2)
- `inference_timeout` - Request timeout in seconds (default: 60)
- `auto_start` - Auto-start server when model selected (default: true)
- `service_port` - Default server port (default: 2020)
